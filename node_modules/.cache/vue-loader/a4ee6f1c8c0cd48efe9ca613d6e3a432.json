{"remainingRequest":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myvue\\vue\\src\\components\\showpage\\centerchart\\centerchart.vue?vue&type=style&index=0&id=36e6ab60&scoped=true&lang=css&","dependencies":[{"path":"E:\\myvue\\vue\\src\\components\\showpage\\centerchart\\centerchart.vue","mtime":1618907171926},{"path":"E:\\myvue\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLnhwYW5lbC13cmFwcGVyIHtwYWRkaW5nLWJvdHRvbToxNXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ci54cGFuZWwtd3JhcHBlci0xIHtoZWlnaHQ6MTAwJTt9Ci5maWxsLWgge2hlaWdodDoxMDAlO21pbi1oZWlnaHQ6MTAwJTsKfQoKCi54cGFuZWwgewogICAgcGFkZGluZzoxNXB4OwogICAgaGVpZ2h0OjEwMCU7CiAgICBtaW4taGVpZ2h0OjE3MHB4OwogICAgYmFja2dyb3VuZDp1cmwoIi4uLy4uLy4uL2Fzc2V0cy9wYW5lbC5wbmciKSBjZW50ZXIgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTsKICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDsKfQo="},{"version":3,"sources":["centerchart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"centerchart.vue","sourceRoot":"src/components/showpage/centerchart","sourcesContent":["<template>\r\n    <div class=\"col-lg-6 fill-h\">\r\n        <div class=\"xpanel-wrapper xpanel-wrapper-1\">\r\n            <div class=\"xpanel\">\r\n                <div class=\"fill-h\" id=\"centerechart\"></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // import * as echarts from 'echarts'\r\n    let echarts = require('echarts')  //这是基本模版\r\n\r\n    export default {\r\n        data(){\r\n            return{\r\n                xAxisData:['1s', '2s', '3s', '4s', '5s', '6s', '7s'],\r\n            }\r\n        },\r\n         mounted() {\r\n            this.centerechart()\r\n        },//注意，mounted必须在绘图定义前面调用，否则图像不显示\r\n        methods:{\r\n             centerechart() {\r\n                var chartDom = document.getElementById('centerechart');\r\n                var myChart = echarts.init(chartDom);\r\n                setInterval(() =>{\r\n                    if(this.total_cost!=20){\r\n                    this.xAxisData.push(this.xAxisData.length + 1 + 's');  //这里面的this不指向vue对象\r\n                    this.myoption.xAxis.data=this.xAxisData\r\n                    myChart.setOption(this.myoption);}\r\n                }, 1000)\r\n                this.myoption && myChart.setOption(this.myoption);\r\n            }\r\n\r\n    },\r\n        computed:{\r\n            total_cost(){\r\n\r\n                if (this.$store.state.data_result.total_cost){\r\n                    // console.log(this.$store.state.data_result.total_cost.map(Number))\r\n                return this.$store.state.data_result.total_cost.map(Number)}\r\n                else return [20]\r\n            },\r\n            total_reven(){\r\n                if (this.$store.state.data_result.total_revenue){\r\n                return this.$store.state.data_result.total_revenue.map(Number)}\r\n                else return [20]\r\n            },\r\n            total_porb(){\r\n                if (this.$store.state.data_result.porb){\r\n                    return this.$store.state.data_result.porb}\r\n                else return [0.1]\r\n            },\r\n            myoption(){   //把option设为计算属性！！！\r\n                let myoption= {\r\n                    title: {\r\n                        text: '部署情况图'\r\n                    },\r\n                    tooltip: {\r\n                        trigger: 'axis'\r\n                    },\r\n                    legend: {\r\n                        data: ['总收益', '总支出', '收益率']\r\n                    },\r\n                    grid: {\r\n                        left: '3%',\r\n                        right: '4%',\r\n                        bottom: '3%',\r\n                        containLabel: true\r\n                    },\r\n                    xAxis: {\r\n                        type: 'category',\r\n                        boundaryGap: false,\r\n                        data: this.xAxisData\r\n                    },\r\n                    yAxis: [\r\n                        {type: 'value',\r\n                        name:'左y轴',\r\n                        },\r\n\r\n                    ],\r\n                    series: [\r\n                        {\r\n                            name: '总收益',\r\n                            type: 'line',\r\n                            stack: '总量',\r\n                            data: this.total_reven,\r\n                        },\r\n                        {\r\n                            name: '总支出',\r\n                            type: 'line',\r\n                            stack: '总量',\r\n                            data: this.total_cost,\r\n                        },\r\n                        {\r\n                            name: '收益率',\r\n                            type: 'line',\r\n                            stack: '总量',\r\n                            data: this.total_porb,\r\n                        },\r\n\r\n                    ]\r\n                }\r\n                return myoption\r\n            }\r\n        },\r\n        watch:{\r\n            total_cost(newVal){\r\n            //     handler(newVal){\r\n            //         this.centerechart()\r\n                    return newVal\r\n            // }\r\n                // deep:true\r\n\r\n            },\r\n            total_reven(newVal){\r\n               // handler(newVal){\r\n                    return newVal\r\n               //  }\r\n                // deep:true\r\n                },\r\n            myoption(){\r\n    }\r\n        }\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    .xpanel-wrapper {padding-bottom:15px;box-sizing:border-box;}\r\n    .xpanel-wrapper-1 {height:100%;}\r\n    .fill-h {height:100%;min-height:100%;\r\n    }\r\n\r\n\r\n    .xpanel {\r\n        padding:15px;\r\n        height:100%;\r\n        min-height:170px;\r\n        background:url(\"../../../assets/panel.png\") center no-repeat;\r\n        background-size:100% 100%;\r\n        box-sizing:border-box;\r\n    }\r\n</style>\r\n"]}]}