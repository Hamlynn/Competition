{"remainingRequest":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myvue\\vue\\src\\components\\showpage\\rightchart\\rightup.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\myvue\\vue\\src\\components\\showpage\\rightchart\\rightup.vue","mtime":1618928907874},{"path":"E:\\myvue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\myvue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGRlbGV0ZVJvdyhpbmRleCwgcm93cykgew0KICAgICAgICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgc2VhcmNoOicnDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKSB7DQoNCg0KICAgICAgICBsZXQgbm9yZXBlYXQ9MCAgLy/lpoLkvZXkuIvmrKFwdXNo5LiO5LiK5qyh55u45ZCM77yM5YiZ5LiNcHVzaA0KICAgICAgICBzZXRJbnRlcnZhbCgoKSA9PnsNCiAgICAgICAgICAgIGlmKHRoaXMuZGF0YUFyci5zZmNfbGVhdmV0aW1lIT0wKXsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhub3JlcGVhdCE9dGhpcy5kYXRhQXJyKQ0KICAgICAgICAgICAgICAgIGlmKEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YUFycikhPUpTT04uc3RyaW5naWZ5KG5vcmVwZWF0KSl7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVEYXRhLnB1c2godGhpcy5kYXRhQXJyKQ0KICAgICAgICAgICAgICAgICAgICAgbm9yZXBlYXQ9dGhpcy5kYXRhQXJyDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LCAyMDApICAgLy/moLjlv4Pku6PnoIHmr4/pmpQxMDAwbXMs5pu05pawDQoNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGRhdGFBcnIoKXsNCiAgICAgICAgICAgIGxldCBhcnI9e3NmY19pZDp0aGlzLnNmY19sZWF2ZXRpbWUuc2ZjX2lkLCAgICAgc2ZjX2VudGVydGltZTp0aGlzLnNmY19sZWF2ZXRpbWUuZW50ZXJ0aW1lLA0KICAgICAgICAgICAgICAgIHNmY19sZWF2ZXRpbWU6dGhpcy5zZmNfbGVhdmV0aW1lLmxlYXZldGltZSwgICAgIHNmY19pc3N1Y2Nlc3M6dGhpcy5zZmNfbGVhdmV0aW1lLmlzX3N1Y2Nlc3N9DQogICAgICAgICAgICByZXR1cm4gYXJyDQogICAgICAgIH0sDQogICAgICAgIHRhYmxlRGF0YSgpIHsNCiAgICAgICAgICAgIGxldCB0YWJsZURhdGEgPSBbXQ0KICAgICAgICAgICAgcmV0dXJuIHRhYmxlRGF0YQ0KICAgICAgICB9LA0KICAgICAgICBzZmNfZW50ZXJ0aW1lKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFfcmVzdWx0LnNmY19lbnRlcnRpbWUpIHsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhX3Jlc3VsdC5zZmNfZW50ZXJ0aW1lKQ0KICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhX3Jlc3VsdC5zZmNfZW50ZXJ0aW1lDQogICAgICAgICAgICB9IGVsc2UgcmV0dXJuIFt7J3NmY19pZCc6IDAsICdlbnRlcnRpbWUnOiAwfV0NCiAgICAgICAgfSwNCiAgICAgICAgc2ZjX2xlYXZldGltZSgpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhX3Jlc3VsdC5zZmNfbGVhdmV0aW1lKSB7DQogICAgICAgICAgICAgICAgaWYodGhpcy4kc3RvcmUuc3RhdGUuZGF0YV9yZXN1bHQuc2ZjX2xlYXZldGltZS5sZW5ndGghPTApew0KICAgICAgICAgICAgICAgICAgICB2YXIgbGVhdmV0aW1lc2V0PXRoaXMuJHN0b3JlLnN0YXRlLmRhdGFfcmVzdWx0LnNmY19sZWF2ZXRpbWUNCiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdGVzdGxlYXZlSW5kZXg9bGVhdmV0aW1lc2V0Lmxlbmd0aCAgLy/lvZPliY3mnIDov5HkuIDmrKHnprvlvIDnmoRzZmMNCiAgICAgICAgICAgICAgICAgICAgbGVhdmV0aW1lc2V0PUpTT04uc3RyaW5naWZ5KGxlYXZldGltZXNldCkgIC8v5bCGb2JzZXJ2YXRpb27ovazkuLpzdHJpbmcNCiAgICAgICAgICAgICAgICAgICAgbGVhdmV0aW1lc2V0PUpTT04ucGFyc2UobGVhdmV0aW1lc2V0KSAgICAvL3N0cmluZ+i9rGpzb24NCiAgICAgICAgICAgICAgICAgICAgdmFyIGlzc3VjY2Vzcw0KICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYXZldG9lbnRlciAgLy/mnIDov5HkuIDmrKHnprvlvIDnmoRzZmPlr7nlupTnmoTov5vlhaXml7bpl7QNCiAgICAgICAgICAgICAgICAgICAgLy/pgY3ljoZsZWF2ZXRpbWVzZXTvvIzmib7lh7rmnIDov5HkuIDmrKHnprvlvIDnmoRzZmPlr7nlupTnmoTov5vlhaXml7bpl7QNCiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNmY19lbnRlcnRpbWUubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNmY19lbnRlcnRpbWVbaV0uc2ZjX2lkID09IGxlYXZldGltZXNldFtsYXRlc3RsZWF2ZUluZGV4LTFdLnNmY19pZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlYXZldG9lbnRlciA9IHRoaXMuc2ZjX2VudGVydGltZVtpXS5lbnRlcnRpbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1Y2Nlc3M9IHRoaXMuc2ZjX2VudGVydGltZVtpXS5pc19zdWNjZXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXNzdWNjZXNzKSBpc3N1Y2Nlc3M9J+aIkOWKnycNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlzc3VjY2Vzcz0n5aSx6LSlJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGlzc3VjY2VzcykNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICByZXR1cm4ge3NmY19pZDpsZWF2ZXRpbWVzZXRbbGF0ZXN0bGVhdmVJbmRleC0xXS5zZmNfaWQsZW50ZXJ0aW1lOmxlYXZldG9lbnRlciwNCiAgICAgICAgICAgICAgICAgICAgIGxlYXZldGltZTpsZWF2ZXRpbWVzZXRbbGF0ZXN0bGVhdmVJbmRleC0xXS5sZWF2ZXRpbWUsIGlzX3N1Y2Nlc3M6aXNzdWNjZXNzIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4ge3NmY19pZDogMCwgZW50ZXJ0aW1lOiAwLCBsZWF2ZXRpbWU6IDAsaXNfc3VjY2VzczowfQ0KDQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHJldHVybiB7c2ZjX2lkOiAwLCBlbnRlcnRpbWU6IDAsbGVhdmV0aW1lOiAwLGlzX3N1Y2Nlc3M6MH0NCiAgICAgICAgICAgICAgICB9LA0KDQogICAgfSwNCg0KICAgICAgICB3YXRjaDogew0KICAgICAgICAgICAgc2ZjX2VudGVydGltZShuZXdWYWwpew0KICAgICAgICAgICAgICAgIHJldHVybiBuZXdWYWwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzZmNfbGVhdmV0aW1lKG5ld1ZhbCl7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbA0KICAgICAgICAgICAgfSwNCg0KDQogICAgICAgIH0NCg0KDQoNCn0NCg=="},{"version":3,"sources":["rightup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA","file":"rightup.vue","sourceRoot":"src/components/showpage/rightchart","sourcesContent":["<template>\r\n    <div class=\"xpanel-wrapper xpanel-wrapper-31\">\r\n        <div class=\"xpanel\" >\r\n            <el-table\r\n                    :data=\"tableData.filter(data => !search || data.sfc_id.toLowerCase().includes(search.toLowerCase()))\"\r\n\r\n                    style=\"width: 100%\"\r\n                    max-height=\"320\">\r\n                <el-table-column\r\n                        prop=\"sfc_id\"\r\n                        label=\"SFC ID\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"name\"\r\n                        label=\"VNF个数\"\r\n                        width=\"60\"\r\n                        align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_entertime\"\r\n                        label=\"进入时间\"\r\n                        width=\"60\"\r\n                        align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_leavetime\"\r\n                        label=\"离开时间\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_issuccess\"\r\n                        label=\"是否部署成功\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        width=\"150\"\r\n                        align=\"center\">\r\n                    <template slot=\"header\">\r\n                    <el-input\r\n                            v-model=\"search\"\r\n                            size=\"mini\"\r\n                            placeholder=\"输入关键字搜索\"\r\n                    />\r\n                    </template>\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                @click.native.prevent=\"deleteRow(scope.$index, this.tableData)\"\r\n                                type=\"text\"\r\n                                size=\"small\">\r\n                            点击查看\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    methods: {\r\n        deleteRow(index, rows) {\r\n            rows.splice(index, 1);\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            search:''\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n\r\n        let norepeat=0  //如何下次push与上次相同，则不push\r\n        setInterval(() =>{\r\n            if(this.dataArr.sfc_leavetime!=0){\r\n                // console.log(norepeat!=this.dataArr)\r\n                if(JSON.stringify(this.dataArr)!=JSON.stringify(norepeat)){\r\n                    this.tableData.push(this.dataArr)\r\n                     norepeat=this.dataArr\r\n                }\r\n            }\r\n        }, 200)   //核心代码每隔1000ms,更新\r\n\r\n    },\r\n    computed: {\r\n        dataArr(){\r\n            let arr={sfc_id:this.sfc_leavetime.sfc_id,     sfc_entertime:this.sfc_leavetime.entertime,\r\n                sfc_leavetime:this.sfc_leavetime.leavetime,     sfc_issuccess:this.sfc_leavetime.is_success}\r\n            return arr\r\n        },\r\n        tableData() {\r\n            let tableData = []\r\n            return tableData\r\n        },\r\n        sfc_entertime() {\r\n            if (this.$store.state.data_result.sfc_entertime) {\r\n                // console.log(this.$store.state.data_result.sfc_entertime)\r\n                return this.$store.state.data_result.sfc_entertime\r\n            } else return [{'sfc_id': 0, 'entertime': 0}]\r\n        },\r\n        sfc_leavetime() {\r\n            if (this.$store.state.data_result.sfc_leavetime) {\r\n                if(this.$store.state.data_result.sfc_leavetime.length!=0){\r\n                    var leavetimeset=this.$store.state.data_result.sfc_leavetime\r\n                    var latestleaveIndex=leavetimeset.length  //当前最近一次离开的sfc\r\n                    leavetimeset=JSON.stringify(leavetimeset)  //将observation转为string\r\n                    leavetimeset=JSON.parse(leavetimeset)    //string转json\r\n                    var issuccess\r\n                     var leavetoenter  //最近一次离开的sfc对应的进入时间\r\n                    //遍历leavetimeset，找出最近一次离开的sfc对应的进入时间\r\n                    for (var i = 0; i < this.sfc_entertime.length; i++) {\r\n                        if (this.sfc_entertime[i].sfc_id == leavetimeset[latestleaveIndex-1].sfc_id) {\r\n                            leavetoenter = this.sfc_entertime[i].entertime\r\n                            issuccess= this.sfc_entertime[i].is_success\r\n                            if(issuccess) issuccess='成功'\r\n                            else issuccess='失败'\r\n                            console.log(issuccess)\r\n                        }\r\n                    }\r\n                 return {sfc_id:leavetimeset[latestleaveIndex-1].sfc_id,entertime:leavetoenter,\r\n                     leavetime:leavetimeset[latestleaveIndex-1].leavetime, is_success:issuccess }\r\n            }\r\n                return {sfc_id: 0, entertime: 0, leavetime: 0,is_success:0}\r\n\r\n            }\r\n            else return {sfc_id: 0, entertime: 0,leavetime: 0,is_success:0}\r\n                },\r\n\r\n    },\r\n\r\n        watch: {\r\n            sfc_entertime(newVal){\r\n                return newVal\r\n            },\r\n            sfc_leavetime(newVal){\r\n                return newVal\r\n            },\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    .xpanel {\r\n        padding:15px;\r\n        height:100%;\r\n        background:url(\"../../../assets/panel.png\") center no-repeat;\r\n        background-size:100% 100%;\r\n        box-sizing:border-box;\r\n    }\r\n    /*.fill-h {height:100%;min-height:100%;}*/\r\n    .xpanel-wrapper {padding-bottom:15px;box-sizing:border-box;}\r\n    .xpanel-wrapper-31  {height:50%;}\r\n    #rightup{\r\n        /*margin-top: -5px;*/\r\n    }\r\n    /*.el-table .warning-row {*/\r\n    /*    background: oldlace;*/\r\n    /*}*/\r\n\r\n    /*.el-table .success-row {*/\r\n    /*    background: #f0f9eb;*/\r\n    /*}*/\r\n</style>\r\n"]}]}