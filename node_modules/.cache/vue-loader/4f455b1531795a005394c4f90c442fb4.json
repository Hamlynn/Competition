{"remainingRequest":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\myvue\\vue\\src\\components\\showpage\\rightchart\\rightup.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\myvue\\vue\\src\\components\\showpage\\rightchart\\rightup.vue","mtime":1619255807800},{"path":"E:\\myvue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\myvue\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\myvue\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBtZXRob2RzOiB7DQogICAgICAgIGRlbGV0ZVJvdyhpbmRleCwgcm93cykgew0KICAgICAgICAgICAgcm93cy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgICB9LA0KDQogICAgICAgICAgICB0YWJsZVJvd0NsYXNzTmFtZSh7cm93LHJvd0luZGV4fSkgew0KICAgICAgICAgICAgICAgIGlmIChyb3cuc2ZjX2lzc3VjY2VzcyA9PT0gIuWksei0pSIpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd3YXJuaW5nLXJvdyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChyb3cuc2ZjX2lzc3VjY2VzcyA9PT0gIuaIkOWKnyIpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdzdWNjZXNzLXJvdyc7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiAnJzsNCiAgICAgICAgICAgIH0NCg0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHNlYXJjaDonJw0KICAgICAgICB9DQogICAgfSwNCiAgICBtb3VudGVkKCkgew0KDQoNCiAgICAgICAgbGV0IG5vcmVwZWF0PTAgIC8v5aaC5L2V5LiL5qyhcHVzaOS4juS4iuasoeebuOWQjO+8jOWImeS4jXB1c2gNCiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT57DQogICAgICAgICAgICBpZih0aGlzLmRhdGFBcnIuc2ZjX2xlYXZldGltZSE9MCl7DQogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobm9yZXBlYXQhPXRoaXMuZGF0YUFycikNCiAgICAgICAgICAgICAgICBpZihKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGFBcnIpIT1KU09OLnN0cmluZ2lmeShub3JlcGVhdCkpew0KICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYmxlRGF0YS51bnNoaWZ0KHRoaXMuZGF0YUFycikgIC8v5re75Yqg6Iez5pWw57uE6LW35aeL5L2N572uDQogICAgICAgICAgICAgICAgICAgICBub3JlcGVhdD10aGlzLmRhdGFBcnINCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sIDIwMCkgICAvL+aguOW/g+S7o+eggeavj+malDEwMDBtcyzmm7TmlrANCg0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgZGF0YUFycigpew0KICAgICAgICAgICAgbGV0IGFycj17c2ZjX2lkOnRoaXMuc2ZjX2xlYXZldGltZS5zZmNfaWQsICAgICBzZmNfZW50ZXJ0aW1lOnRoaXMuc2ZjX2xlYXZldGltZS5lbnRlcnRpbWUsDQogICAgICAgICAgICAgICAgc2ZjX2xlYXZldGltZTp0aGlzLnNmY19sZWF2ZXRpbWUubGVhdmV0aW1lLCAgICAgc2ZjX2lzc3VjY2Vzczp0aGlzLnNmY19sZWF2ZXRpbWUuaXNfc3VjY2Vzc30NCiAgICAgICAgICAgIHJldHVybiBhcnINCiAgICAgICAgfSwNCiAgICAgICAgdGFibGVEYXRhKCkgew0KICAgICAgICAgICAgbGV0IHRhYmxlRGF0YSA9IFtdDQogICAgICAgICAgICByZXR1cm4gdGFibGVEYXRhDQogICAgICAgIH0sDQogICAgICAgIHNmY19lbnRlcnRpbWUoKSB7DQogICAgICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUuZGF0YV9yZXN1bHQuc2ZjX2VudGVydGltZSkgew0KICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFfcmVzdWx0LnNmY19lbnRlcnRpbWUpDQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFfcmVzdWx0LnNmY19lbnRlcnRpbWUNCiAgICAgICAgICAgIH0gZWxzZSByZXR1cm4gW3snc2ZjX2lkJzogMCwgJ2VudGVydGltZSc6IDB9XQ0KICAgICAgICB9LA0KICAgICAgICBzZmNfbGVhdmV0aW1lKCkgew0KICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLmRhdGFfcmVzdWx0LnNmY19sZWF2ZXRpbWUpIHsNCiAgICAgICAgICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5kYXRhX3Jlc3VsdC5zZmNfbGVhdmV0aW1lLmxlbmd0aCE9MCl7DQogICAgICAgICAgICAgICAgICAgIHZhciBsZWF2ZXRpbWVzZXQ9dGhpcy4kc3RvcmUuc3RhdGUuZGF0YV9yZXN1bHQuc2ZjX2xlYXZldGltZQ0KICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ZXN0bGVhdmVJbmRleD1sZWF2ZXRpbWVzZXQubGVuZ3RoICAvL+W9k+WJjeacgOi/keS4gOasoeemu+W8gOeahHNmYw0KICAgICAgICAgICAgICAgICAgICBsZWF2ZXRpbWVzZXQ9SlNPTi5zdHJpbmdpZnkobGVhdmV0aW1lc2V0KSAgLy/lsIZvYnNlcnZhdGlvbui9rOS4unN0cmluZw0KICAgICAgICAgICAgICAgICAgICBsZWF2ZXRpbWVzZXQ9SlNPTi5wYXJzZShsZWF2ZXRpbWVzZXQpICAgIC8vc3RyaW5n6L2sanNvbg0KICAgICAgICAgICAgICAgICAgICB2YXIgaXNzdWNjZXNzDQogICAgICAgICAgICAgICAgICAgICB2YXIgbGVhdmV0b2VudGVyICAvL+acgOi/keS4gOasoeemu+W8gOeahHNmY+WvueW6lOeahOi/m+WFpeaXtumXtA0KICAgICAgICAgICAgICAgICAgICAvL+mBjeWOhmxlYXZldGltZXNldO+8jOaJvuWHuuacgOi/keS4gOasoeemu+W8gOeahHNmY+WvueW6lOeahOi/m+WFpeaXtumXtA0KICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuc2ZjX2VudGVydGltZS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2ZjX2VudGVydGltZVtpXS5zZmNfaWQgPT0gbGVhdmV0aW1lc2V0W2xhdGVzdGxlYXZlSW5kZXgtMV0uc2ZjX2lkKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVhdmV0b2VudGVyID0gdGhpcy5zZmNfZW50ZXJ0aW1lW2ldLmVudGVydGltZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VjY2Vzcz0gdGhpcy5zZmNfZW50ZXJ0aW1lW2ldLmlzX3N1Y2Nlc3MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihpc3N1Y2Nlc3MpIGlzc3VjY2Vzcz0n5oiQ5YqfJw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaXNzdWNjZXNzPSflpLHotKUnDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coaXNzdWNjZXNzKQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgIHJldHVybiB7c2ZjX2lkOmxlYXZldGltZXNldFtsYXRlc3RsZWF2ZUluZGV4LTFdLnNmY19pZCxlbnRlcnRpbWU6bGVhdmV0b2VudGVyLA0KICAgICAgICAgICAgICAgICAgICAgbGVhdmV0aW1lOmxlYXZldGltZXNldFtsYXRlc3RsZWF2ZUluZGV4LTFdLmxlYXZldGltZSwgaXNfc3VjY2Vzczppc3N1Y2Nlc3MgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB7c2ZjX2lkOiAwLCBlbnRlcnRpbWU6IDAsIGxlYXZldGltZTogMCxpc19zdWNjZXNzOjB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHtzZmNfaWQ6IDAsIGVudGVydGltZTogMCxsZWF2ZXRpbWU6IDAsaXNfc3VjY2VzczowfQ0KICAgICAgICAgICAgICAgIH0sDQoNCiAgICB9LA0KDQogICAgICAgIHdhdGNoOiB7DQogICAgICAgICAgICBzZmNfZW50ZXJ0aW1lKG5ld1ZhbCl7DQogICAgICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHNmY19sZWF2ZXRpbWUobmV3VmFsKXsNCiAgICAgICAgICAgICAgICByZXR1cm4gbmV3VmFsDQogICAgICAgICAgICB9LA0KDQoNCiAgICAgICAgfQ0KDQoNCg0KfQ0K"},{"version":3,"sources":["rightup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA","file":"rightup.vue","sourceRoot":"src/components/showpage/rightchart","sourcesContent":["<template>\r\n    <div class=\"xpanel-wrapper xpanel-wrapper-31\">\r\n        <div class=\"xpanel\" >\r\n            <div class=\"head\"><b>部署结果表</b></div>\r\n            <el-table\r\n                    :data=\"this.tableData\"\r\n                    style=\"width: 100% \"\r\n                    max-height=\"290\"\r\n                    :row-class-name=\"tableRowClassName\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"sfc_id\"\r\n                        label=\"SFC ID\"\r\n                        width=\"80\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"sfc_entertime\"\r\n                        label=\"进入时间\"\r\n                        width=\"80\"\r\n                        align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_leavetime\"\r\n                        label=\"离开时间\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_issuccess\"\r\n                        label=\"是否部署成功\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        width=\"80\"\r\n                        align=\"center\"\r\n                        label=\"查看更多\"\r\n                        fixed=\"right\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                @click.native.prevent=\"deleteRow(scope.$index, this.tableData)\"\r\n                                type=\"text\"\r\n                                size=\"small\">\r\n                            点击查看\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    methods: {\r\n        deleteRow(index, rows) {\r\n            rows.splice(index, 1);\r\n        },\r\n\r\n            tableRowClassName({row,rowIndex}) {\r\n                if (row.sfc_issuccess === \"失败\") {\r\n                    return 'warning-row';\r\n                }\r\n                if (row.sfc_issuccess === \"成功\") {\r\n                    return 'success-row';\r\n                }\r\n                return '';\r\n            }\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            search:''\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n\r\n        let norepeat=0  //如何下次push与上次相同，则不push\r\n        setInterval(() =>{\r\n            if(this.dataArr.sfc_leavetime!=0){\r\n                // console.log(norepeat!=this.dataArr)\r\n                if(JSON.stringify(this.dataArr)!=JSON.stringify(norepeat)){\r\n                    this.tableData.unshift(this.dataArr)  //添加至数组起始位置\r\n                     norepeat=this.dataArr\r\n                }\r\n            }\r\n        }, 200)   //核心代码每隔1000ms,更新\r\n\r\n    },\r\n    computed: {\r\n        dataArr(){\r\n            let arr={sfc_id:this.sfc_leavetime.sfc_id,     sfc_entertime:this.sfc_leavetime.entertime,\r\n                sfc_leavetime:this.sfc_leavetime.leavetime,     sfc_issuccess:this.sfc_leavetime.is_success}\r\n            return arr\r\n        },\r\n        tableData() {\r\n            let tableData = []\r\n            return tableData\r\n        },\r\n        sfc_entertime() {\r\n            if (this.$store.state.data_result.sfc_entertime) {\r\n                // console.log(this.$store.state.data_result.sfc_entertime)\r\n                return this.$store.state.data_result.sfc_entertime\r\n            } else return [{'sfc_id': 0, 'entertime': 0}]\r\n        },\r\n        sfc_leavetime() {\r\n            if (this.$store.state.data_result.sfc_leavetime) {\r\n                if(this.$store.state.data_result.sfc_leavetime.length!=0){\r\n                    var leavetimeset=this.$store.state.data_result.sfc_leavetime\r\n                    var latestleaveIndex=leavetimeset.length  //当前最近一次离开的sfc\r\n                    leavetimeset=JSON.stringify(leavetimeset)  //将observation转为string\r\n                    leavetimeset=JSON.parse(leavetimeset)    //string转json\r\n                    var issuccess\r\n                     var leavetoenter  //最近一次离开的sfc对应的进入时间\r\n                    //遍历leavetimeset，找出最近一次离开的sfc对应的进入时间\r\n                    for (var i = 0; i < this.sfc_entertime.length; i++) {\r\n                        if (this.sfc_entertime[i].sfc_id == leavetimeset[latestleaveIndex-1].sfc_id) {\r\n                            leavetoenter = this.sfc_entertime[i].entertime\r\n                            issuccess= this.sfc_entertime[i].is_success\r\n                            if(issuccess) issuccess='成功'\r\n                            else issuccess='失败'\r\n                            console.log(issuccess)\r\n                        }\r\n                    }\r\n                 return {sfc_id:leavetimeset[latestleaveIndex-1].sfc_id,entertime:leavetoenter,\r\n                     leavetime:leavetimeset[latestleaveIndex-1].leavetime, is_success:issuccess }\r\n            }\r\n                return {sfc_id: 0, entertime: 0, leavetime: 0,is_success:0}\r\n\r\n            }\r\n            else return {sfc_id: 0, entertime: 0,leavetime: 0,is_success:0}\r\n                },\r\n\r\n    },\r\n\r\n        watch: {\r\n            sfc_entertime(newVal){\r\n                return newVal\r\n            },\r\n            sfc_leavetime(newVal){\r\n                return newVal\r\n            },\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    .xpanel {\r\n        padding:15px;\r\n        height:100%;\r\n        background:url(\"../../../assets/panel.png\") center no-repeat;\r\n        background-size:100% 100%;\r\n        box-sizing:border-box;\r\n    }\r\n    /*.fill-h {height:100%;min-height:100%;}*/\r\n    .xpanel-wrapper {padding-bottom:15px;box-sizing:border-box;}\r\n    .xpanel-wrapper-31  {height:50%;}\r\n    #rightup{\r\n        /*margin-top: -5px;*/\r\n    }\r\n    .el-table .warning-row {\r\n        background: #FEF0F0;\r\n    }\r\n\r\n    .el-table .success-row {\r\n        background: #F0F9EB;\r\n    }\r\n    .head{\r\n\r\n        text-align: left;\r\n        font-size: large;\r\n    }\r\n</style>\r\n"]}]}