{"remainingRequest":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\All Project\\vueProject\\Competition\\vue\\src\\components\\showpage\\rightchart\\rightup.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\All Project\\vueProject\\Competition\\vue\\src\\components\\showpage\\rightchart\\rightup.vue","mtime":1619255807800},{"path":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\All Project\\vueProject\\Competition\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoueHBhbmVsIHsKICAgIHBhZGRpbmc6MTVweDsKICAgIGhlaWdodDoxMDAlOwogICAgYmFja2dyb3VuZDp1cmwoIi4uLy4uLy4uL2Fzc2V0cy9wYW5lbC5wbmciKSBjZW50ZXIgbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOjEwMCUgMTAwJTsKICAgIGJveC1zaXppbmc6Ym9yZGVyLWJveDsKfQovKi5maWxsLWgge2hlaWdodDoxMDAlO21pbi1oZWlnaHQ6MTAwJTt9Ki8KLnhwYW5lbC13cmFwcGVyIHtwYWRkaW5nLWJvdHRvbToxNXB4O2JveC1zaXppbmc6Ym9yZGVyLWJveDt9Ci54cGFuZWwtd3JhcHBlci0zMSAge2hlaWdodDo1MCU7fQojcmlnaHR1cHsKICAgIC8qbWFyZ2luLXRvcDogLTVweDsqLwp9Ci5lbC10YWJsZSAud2FybmluZy1yb3cgewogICAgYmFja2dyb3VuZDogI0ZFRjBGMDsKfQoKLmVsLXRhYmxlIC5zdWNjZXNzLXJvdyB7CiAgICBiYWNrZ3JvdW5kOiAjRjBGOUVCOwp9Ci5oZWFkewoKICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICBmb250LXNpemU6IGxhcmdlOwp9Cg=="},{"version":3,"sources":["rightup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"rightup.vue","sourceRoot":"src/components/showpage/rightchart","sourcesContent":["<template>\r\n    <div class=\"xpanel-wrapper xpanel-wrapper-31\">\r\n        <div class=\"xpanel\" >\r\n            <div class=\"head\"><b>部署结果表</b></div>\r\n            <el-table\r\n                    :data=\"this.tableData\"\r\n                    style=\"width: 100% \"\r\n                    max-height=\"290\"\r\n                    :row-class-name=\"tableRowClassName\"\r\n            >\r\n                <el-table-column\r\n                        prop=\"sfc_id\"\r\n                        label=\"SFC ID\"\r\n                        width=\"80\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n\r\n                <el-table-column\r\n                        prop=\"sfc_entertime\"\r\n                        label=\"进入时间\"\r\n                        width=\"80\"\r\n                        align=\"center\"\r\n                >\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_leavetime\"\r\n                        label=\"离开时间\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        prop=\"sfc_issuccess\"\r\n                        label=\"是否部署成功\"\r\n                        width=\"60\"\r\n                        align=\"center\">\r\n                </el-table-column>\r\n                <el-table-column\r\n                        width=\"80\"\r\n                        align=\"center\"\r\n                        label=\"查看更多\"\r\n                        fixed=\"right\"\r\n                >\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button\r\n                                @click.native.prevent=\"deleteRow(scope.$index, this.tableData)\"\r\n                                type=\"text\"\r\n                                size=\"small\">\r\n                            点击查看\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            </div>\r\n        </div>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n    methods: {\r\n        deleteRow(index, rows) {\r\n            rows.splice(index, 1);\r\n        },\r\n\r\n            tableRowClassName({row,rowIndex}) {\r\n                if (row.sfc_issuccess === \"失败\") {\r\n                    return 'warning-row';\r\n                }\r\n                if (row.sfc_issuccess === \"成功\") {\r\n                    return 'success-row';\r\n                }\r\n                return '';\r\n            }\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            search:''\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n\r\n        let norepeat=0  //如何下次push与上次相同，则不push\r\n        setInterval(() =>{\r\n            if(this.dataArr.sfc_leavetime!=0){\r\n                // console.log(norepeat!=this.dataArr)\r\n                if(JSON.stringify(this.dataArr)!=JSON.stringify(norepeat)){\r\n                    this.tableData.unshift(this.dataArr)  //添加至数组起始位置\r\n                     norepeat=this.dataArr\r\n                }\r\n            }\r\n        }, 200)   //核心代码每隔1000ms,更新\r\n\r\n    },\r\n    computed: {\r\n        dataArr(){\r\n            let arr={sfc_id:this.sfc_leavetime.sfc_id,     sfc_entertime:this.sfc_leavetime.entertime,\r\n                sfc_leavetime:this.sfc_leavetime.leavetime,     sfc_issuccess:this.sfc_leavetime.is_success}\r\n            return arr\r\n        },\r\n        tableData() {\r\n            let tableData = []\r\n            return tableData\r\n        },\r\n        sfc_entertime() {\r\n            if (this.$store.state.data_result.sfc_entertime) {\r\n                // console.log(this.$store.state.data_result.sfc_entertime)\r\n                return this.$store.state.data_result.sfc_entertime\r\n            } else return [{'sfc_id': 0, 'entertime': 0}]\r\n        },\r\n        sfc_leavetime() {\r\n            if (this.$store.state.data_result.sfc_leavetime) {\r\n                if(this.$store.state.data_result.sfc_leavetime.length!=0){\r\n                    var leavetimeset=this.$store.state.data_result.sfc_leavetime\r\n                    var latestleaveIndex=leavetimeset.length  //当前最近一次离开的sfc\r\n                    leavetimeset=JSON.stringify(leavetimeset)  //将observation转为string\r\n                    leavetimeset=JSON.parse(leavetimeset)    //string转json\r\n                    var issuccess\r\n                     var leavetoenter  //最近一次离开的sfc对应的进入时间\r\n                    //遍历leavetimeset，找出最近一次离开的sfc对应的进入时间\r\n                    for (var i = 0; i < this.sfc_entertime.length; i++) {\r\n                        if (this.sfc_entertime[i].sfc_id == leavetimeset[latestleaveIndex-1].sfc_id) {\r\n                            leavetoenter = this.sfc_entertime[i].entertime\r\n                            issuccess= this.sfc_entertime[i].is_success\r\n                            if(issuccess) issuccess='成功'\r\n                            else issuccess='失败'\r\n                            console.log(issuccess)\r\n                        }\r\n                    }\r\n                 return {sfc_id:leavetimeset[latestleaveIndex-1].sfc_id,entertime:leavetoenter,\r\n                     leavetime:leavetimeset[latestleaveIndex-1].leavetime, is_success:issuccess }\r\n            }\r\n                return {sfc_id: 0, entertime: 0, leavetime: 0,is_success:0}\r\n\r\n            }\r\n            else return {sfc_id: 0, entertime: 0,leavetime: 0,is_success:0}\r\n                },\r\n\r\n    },\r\n\r\n        watch: {\r\n            sfc_entertime(newVal){\r\n                return newVal\r\n            },\r\n            sfc_leavetime(newVal){\r\n                return newVal\r\n            },\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n    .xpanel {\r\n        padding:15px;\r\n        height:100%;\r\n        background:url(\"../../../assets/panel.png\") center no-repeat;\r\n        background-size:100% 100%;\r\n        box-sizing:border-box;\r\n    }\r\n    /*.fill-h {height:100%;min-height:100%;}*/\r\n    .xpanel-wrapper {padding-bottom:15px;box-sizing:border-box;}\r\n    .xpanel-wrapper-31  {height:50%;}\r\n    #rightup{\r\n        /*margin-top: -5px;*/\r\n    }\r\n    .el-table .warning-row {\r\n        background: #FEF0F0;\r\n    }\r\n\r\n    .el-table .success-row {\r\n        background: #F0F9EB;\r\n    }\r\n    .head{\r\n\r\n        text-align: left;\r\n        font-size: large;\r\n    }\r\n</style>\r\n"]}]}